@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light theme - из репозитория v0-ai-agents-control-panel */
    /* Конвертировано из oklch в HSL для совместимости */
    --background: 0 0% 98%;
    --foreground: 0 0% 15%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 15%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 15%;
    --primary: 252 70% 55%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 95%;
    --secondary-foreground: 0 0% 15%;
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 50%;
    --accent: 0 0% 96%;
    --accent-foreground: 0 0% 15%;
    --destructive: 27 96% 61%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 252 70% 55%;
    --radius: 0.5rem;
    --chart-1: 252 70% 55%;
    --chart-2: 200 70% 60%;
    --chart-3: 160 65% 65%;
    --chart-4: 280 70% 70%;
    --chart-5: 320 70% 75%;
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 0 0% 15%;
    --sidebar-primary: 252 70% 55%;
    --sidebar-primary-foreground: 0 0% 98%;
    --sidebar-accent: 0 0% 96%;
    --sidebar-accent-foreground: 0 0% 15%;
    --sidebar-border: 0 0% 90%;
    --sidebar-ring: 252 70% 55%;

    /* Семантические цвета для светлой темы */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --info: 221 83% 53%;
    --info-foreground: 0 0% 100%;
  }

  .dark {
    /* Dark theme - GitHub Dark Mode (классическая схема) */

    /* === Фоны === */
    /* Основной фон - #0d1117 */
    --background: 216 28% 7%;
    /* Карточки - #0d1117 (такой же как фон) */
    --card: 216 28% 7%;
    --popover: 216 28% 7%;
    /* Secondary - #161b22 */
    --secondary: 216 28% 11%;
    /* Muted/overlay фон - #21262d */
    --muted: 215 19% 15%;
    /* Accent/hover фон - #30363d */
    --accent: 214 13% 22%;

    /* === Текст === */
    /* fg.default - #c9d1d9 */
    --foreground: 210 17% 82%;
    --card-foreground: 210 17% 82%;
    --popover-foreground: 210 17% 82%;
    --secondary-foreground: 210 17% 82%;
    --accent-foreground: 210 17% 82%;
    /* fg.muted - #8b949e */
    --muted-foreground: 212 9% 58%;

    /* === Акценты === */
    /* GitHub button green - #238636 */
    --primary: 132 59% 33%;
    --primary-foreground: 0 0% 100%;
    /* danger.fg - #f85149 */
    --destructive: 3 93% 63%;
    --destructive-foreground: 0 0% 100%;

    /* === Границы === */
    /* border - #30363d */
    --border: 214 13% 22%;
    /* input border - #21262d */
    --input: 215 19% 15%;
    /* focus ring - GitHub button green */
    --ring: 132 59% 33%;

    /* === Графики === */
    --chart-1: 132 59% 33%;
    --chart-2: 139 58% 53%;
    --chart-3: 38 92% 50%;
    --chart-4: 271 64% 71%;
    --chart-5: 330 62% 62%;

    /* === Sidebar === */
    /* Чуть темнее основного - #010409 */
    --sidebar-background: 220 40% 2%;
    --sidebar-foreground: 210 17% 82%;
    --sidebar-primary: 132 59% 33%;
    --sidebar-primary-foreground: 0 0% 100%;
    /* hover - #161b22 */
    --sidebar-accent: 216 28% 11%;
    --sidebar-accent-foreground: 210 17% 82%;
    /* border - #21262d */
    --sidebar-border: 215 19% 15%;
    --sidebar-ring: 132 59% 33%;

    /* === Семантические цвета GitHub === */
    /* success.fg - #3fb950 */
    --success: 139 58% 53%;
    --success-foreground: 0 0% 100%;
    /* attention.fg - #d29922 */
    --warning: 38 76% 48%;
    --warning-foreground: 0 0% 100%;
    /* done.fg - #a371f7 */
    --info: 271 91% 71%;
    --info-foreground: 0 0% 100%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

html,
body {
  width: 100%;
  height: 100%;
  /* Системный шрифт для UI элементов (читаемость и консистентность) */
  font-family:
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    'Roboto',
    'Oxygen',
    'Ubuntu',
    'Cantarell',
    'Fira Sans',
    'Droid Sans',
    'Helvetica Neue',
    sans-serif;
  /* Размер шрифта как в IDE: 13px */
  font-size: 13px;
  line-height: 1.5;
}

/* Моноширинный шрифт только для кода, файлов и данных */
code,
pre,
.file-name,
.code-block,
.mono-text {
  font-family:
    'SF Mono',
    'Monaco',
    'Cascadia Code',
    'Consolas',
    'Fira Code',
    'JetBrains Mono',
    'Courier New',
    monospace;
  font-size: 13px;
}

a {
  color: inherit;
  text-decoration: none;
}

@layer utilities {
  .debug {
    @apply border-[1px] border-red-500;
  }
}

@keyframes searchingAnimation {
  0% {
    background-position: -100% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.searching-animation {
  background: linear-gradient(
    90deg,
    transparent 0%,
    #ffffff 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: searchingAnimation 4s forwards;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.main-content-wrapper {
  position: fixed;
  top: var(--header-height);
  left: var(--sidebar-width);
  right: 0;
  bottom: 0;
  transition: left 0.2s ease-in-out;
  display: flex;
  justify-content: center;
  overflow-x: hidden;
}

.main-content-wrapper.sidebar-closed {
  left: 0;
}

.main-content {
  width: 100%;
  max-width: 64rem;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
}

.centered-content {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.mode-selector {
  position: sticky;
  z-index: 10;
}

.prose {
  @apply text-foreground;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  @apply text-foreground font-semibold;
  margin-top: 1em;
  margin-bottom: 0.5em;
}

.prose p {
  @apply text-foreground/90;
  margin-bottom: 1em;
}

.prose ul,
.prose ol {
  padding-left: 1.5em;
  margin-bottom: 1em;
}

.prose code {
  @apply bg-muted text-foreground;
  padding: 0.2em 0.4em;
  border-radius: 0.25em;
  font-size: 0.9em;
}

.prose pre {
  @apply bg-muted text-foreground border border-border;
  padding: 1em;
  border-radius: 0.5em;
  overflow-x: auto;
}

.request-card {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.request-card-content {
  flex: 1;
  min-height: 0;
}

.chart-wrapper {
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.table-fixed {
  table-layout: fixed;
}

td > div,
th > div {
  max-width: 100%;
  overflow-x: auto;
  white-space: nowrap;
}

table {
  table-layout: fixed;
  width: 100%;
}

col.flex-grow {
  width: 1%;
}

th,
td {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Улучшения для explorer страницы */
.explorer-card {
  @apply bg-card border-border shadow-sm;
  transition: box-shadow 0.2s ease-in-out;
}

.explorer-card:hover {
  @apply shadow-md;
}

.dark .explorer-card {
  @apply bg-background border-border;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.3);
}

.dark .explorer-card:hover {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
}

/* Улучшенная читаемость таблиц */
.table-row-hover {
  @apply transition-colors;
}

.table-row-hover:hover {
  @apply bg-muted/50;
}

.dark .table-row-hover:hover {
  @apply bg-muted/30;
}

/* Улучшенные границы для карточек */
.card-border {
  @apply border border-border;
}

.dark .card-border {
  border-color: hsl(var(--border));
}

/* Улучшенная видимость статусов */
.status-badge {
  @apply font-medium;
}

/* Улучшенная видимость иконок */
.icon-muted {
  @apply text-muted-foreground;
  transition: color 0.2s ease-in-out;
}

.icon-muted:hover {
  @apply text-foreground;
}

/* Плавные переходы для тем */
* {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}
